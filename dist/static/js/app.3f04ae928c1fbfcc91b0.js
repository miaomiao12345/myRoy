webpackJsonp([3],{"5OHe":function(t,e){},"A+GE":function(t,e){},JEsZ:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("xd7I"),r={name:"Navbar",data:function(){return{navlist:[{title:"音乐馆",checked:!0,icon:"icon-music",checkedicon:"icon-yinle",routername:"home"},{title:"发现",checked:!1,icon:"icon-faxian",checkedicon:"icon-faxian1",routername:"discover"},{title:"我",checked:!1,icon:"icon-mine",checkedicon:"icon-wode",routername:"user"}]}},props:{songs:{type:Object,default:function(){return{}}}},methods:{switchpages:function(t){this.$router.replace(t.routername),this.navlist.forEach(function(t){t.checked=!1}),t.checked=!0}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("div",{staticClass:"width-100 flex-row bg-theme padding-5"},[n("div",{staticClass:"img",style:{background:"url("+t.songs.img+")","background-size":"contain"}}),t._v(" "),n("div",{staticClass:"flex-1 margin-left-15 text-left"},[t._v(t._s(t.songs.name)+"-"+t._s(t.songs.singer))]),t._v(" "),n("i",{staticClass:"iconfont icon-bofang f-30 color-orange"}),t._v(" "),n("i",{staticClass:"margin-left-10 iconfont f-30 icon-gedan color-orange"})]),t._v(" "),n("div",{staticClass:"nav width-100"},t._l(t.navlist,function(e,o){return n("div",{key:o,on:{click:function(n){return t.switchpages(e)}}},[n("div",[n("i",{class:[e.checked?e.checkedicon:e.icon,"iconfont","f-30",{"color-orange":e.checked}]})]),t._v(" "),n("div",{class:[e.checked?"color-orange":"","f-15","f-w",{"f-18":e.checked}]},[t._v(t._s(e.title))])])}),0)])},staticRenderFns:[]};var a={name:"App",components:{Navbar:n("C7Lr")(r,i,!1,function(t){n("JEsZ")},"data-v-1fe78f4a",null).exports},data:function(){return{historydata:{}}},methods:{getHistory:function(){var t=this;this.$fetch({url:"webapi/history/history"}).then(function(e){t.historydata=e.data,t.$store.commit("updateUserData",t.historydata.user)}).catch(function(t){})}},mounted:function(){this.clientHeight=document.body.clientHeight,this.getHistory()}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg-theme",attrs:{id:"app"}},[e("router-view",{staticClass:"flex-1 height-100 width-100"}),this._v(" "),e("Navbar",{attrs:{songs:this.historydata.songs}})],1)},staticRenderFns:[]};var s=n("C7Lr")(a,c,!1,function(t){n("A+GE")},null,null).exports,u=n("3XdE");o.default.use(u.a);var l=new u.a({routes:[{path:"/home",name:"MusicHouse",component:function(t){return n.e(0).then(function(){return t(n("zKIK"))}.bind(null,n)).catch(n.oe)},meta:{title:"音乐馆"}},{path:"/discover",name:"Discover",component:function(t){return n.e(0).then(function(){return t(n("POBk"))}.bind(null,n)).catch(n.oe)},meta:{title:"发现"}},{path:"/user",name:"User",component:function(t){return n.e(1).then(function(){return t(n("+L4n"))}.bind(null,n)).catch(n.oe)},meta:{title:"我的"}},{path:"*",redirect:"/home"}]}),f=n("hRKE"),d=n.n(f),h=n("rVsN"),p=n.n(h),v=n("Muz9"),m=n.n(v),w=n("2bvH");o.default.use(w.a);var y=new w.a.Store({state:{userdata:""},mutations:{updateUserData:function(t,e){t.userdata=e}}}),g=n("wSez");n("5OHe");[g.Search,g.Swipe,g.SwipeItem,g.Toast].map(function(t){o.default.component(t.name,t)}),n("mz4u"),o.default.config.productionTip=!1,o.default.prototype.$fetch=function(t){return function(t){for(var e in t){var n=t[e];void 0!==n&&""!==n&&null!==n||delete t[e]}}(t.data||{}),new p.a(function(e,n){var o=t.method?t.method.toLowerCase():"get",r={url:(window.location.port?window.location.protocol+"//"+window.location.hostname+":"+window.location.port+"/":window.location.protocol+"//"+window.location.hostname+"/")+t.url,method:o,timeout:t.timeout||1e5,headers:t.headers||""};"post"===o?r.data=t.data||"":r.params=t.data||"",m()(r).then(function(t){var o=t.data;"object"===(void 0===o?"undefined":d()(o))?"0"===o.error?e(o):n(o):n(t)}).catch(function(t){n(t)})})},new o.default({el:"#app",router:l,components:{App:s},template:"<App/>",store:y})},mz4u:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("aA9S"),r=n.n(o),i=n("rVsN"),a=n.n(i);"function"!=typeof a.a.prototype.done&&(a.a.prototype.finally=function(t){return this.then(function(e){return a.a.resolve(t(e)).then(function(t){return t})},function(e){return a.a.resolve(t(e)).then(function(t){throw t})})}),"function"!=typeof r.a&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var r=arguments[o];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},writable:!0,configurable:!0}),Array.prototype.every||(Array.prototype.every=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var o=arguments.length>=2?arguments[1]:void 0,r=0;r<n;r++)if(r in e&&!t.call(o,e[r],r,e))return!1;return!0}),Array.prototype.forEach||(Array.prototype.forEach=function(t){var e,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),r=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(e=arguments[1]),n=0;n<r;){var i;n in o&&(i=o[n],t.call(e,i,n,o)),n++}})}},["NHnr"]);
//# sourceMappingURL=app.3f04ae928c1fbfcc91b0.js.map